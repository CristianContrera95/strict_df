<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>StrictDataFrame</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> StrictDataFrame</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#quickstart">Quickstart</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#using-stricdf">Using stricdf</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#api">API</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#strictdataframe_1">StrictDataFrame</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#attributes">Attributes</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#utils">Utils</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#utilsdtypes">Utils.dtypes</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#functions">Functions</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#dataset">dataset</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="developers/">Developers</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="about/">About</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">StrictDataFrame</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="strictdataframe">StrictDataFrame</h1>
<hr />
<p>The Pandas DataFrames can handle mixed data types on the columns: for instance, a column "month" can have both integer and string values, being "object" the data type associated in those cases. This ability could result in undesired side effects in several use cases, especially on data pipelines where it is necessary to know the type of data processed over the steps.</p>
<p>This is a library that provides utils to handle Pandas DataFrames in a "strict" way regarding the data schema, so a DataFrame enforces a proper data type for each of its columns, as well as other related utils.</p>
<hr />
<h2 id="quickstart">Quickstart</h2>
<h3 id="installation">Installation</h3>
<p>Installing <strong>strictdf</strong> is done in the usual ways. The simplest way is with pip:</p>
<pre><code class="language-bash">pip install git+git://github.com/CristianContrera95/strict_df.git
</code></pre>
<blockquote>
<ul>
<li>
<p>Note:<br />
    It is <strong>very</strong> important to install <strong>strictdf</strong> on the <em>correct</em> version of
    Python. StrictDataFrame requires <em>Python&gt;=3.9</em>.</p>
<p>If <strong>spark</strong> is installed already, strictdf will use it on some methods.</p>
</li>
</ul>
</blockquote>
<h3 id="using-stricdf">Using stricdf</h3>
<p>To start using <strong>stricdf</strong>, open an jupyter or ipython sheel and run:</p>
<pre><code class="language-python">from strictdf import StrictDataFrame

df = pd.read_csv('data.csv')

sdf = StrictDataFrame(df)

sdf.dtypes
# {'serious_dlqin2yrs': 'bool',
#  'revolving_utilization_of_unsecured_lines': 'float64',
#  'age': 'int64',
#  'number_of_time30-59_days_past_due_not_worse': 'int64',
#  'debt_ratio': 'float64',
#  'monthly_income': 'int64'
# }

sdf.report()
# &quot;DataFrame having shape '(120157, 11)' (29843 rows removed from original)&quot;
</code></pre>
<hr />
<h2 id="api">API</h2>
<p>This part of the documentation covers all the interfaces of <strong>strictdf</strong>  </p>
<h3 id="strictdataframe_1">StrictDataFrame</h3>
<p>The StrictDataFrame class implements strict dtypes for DataFrames columns</p>
<p><strong>StrictDataFrame</strong>(<em>df</em>, <em>min_percentage</em>: Union[int, float] = 90, <em>impute</em>: bool = False, <em>binary2bool</em>: bool = False, <em>skip_col</em>: Union[List, np.array] = None)</p>
<pre><code class="language-python">from strictdf import StrictDataFrame
</code></pre>
<p>StrictDataFrame is a pd.DataFrame wrapper that provides utilities to handle in a "strict" DataFrames
    way with respect to the data schema, so it imposes a suitable data type for each of its columns</p>
<h5 id="parameters">Parameters</h5>
<ul>
<li>
<p><strong>df</strong> : pandas DataFrame
    Contains data stored in DataFrame.</p>
</li>
<li>
<p><strong>min_percentage</strong> : int or float optional (default=.90)
    Values must be between 0 and 100 or 0. and 1. (if float if given)
    Used to determine the type of a column, requires 'min_percentage' of rows to be 1 expected type</p>
</li>
<li>
<p><strong>impute</strong> : bool optional (default=False)</p>
</li>
<li>
<p><strong>binary2bool</strong> : bool optional (default=False)</p>
</li>
</ul>
<h5 id="attributes">Attributes</h5>
<ul>
<li>
<p><strong>old_df</strong> : pd.DataFrame
    Original pd.DataFrame given</p>
</li>
<li>
<p><strong>new_df</strong> : pd.DataFrame
    Modified pd.DataFrame with "strict" types for each column</p>
</li>
<li>
<p><strong>impute</strong> : bool (default=False)
    Impute values that are being removed to not meet expected data types.
    For columns float 'mean' is used, for integer 'mode' is used</p>
</li>
<li>
<p><strong>binary2bool</strong> : bool (default=False)
    Convert all columns with only 2 values to boolean</p>
</li>
<li>
<p><strong>skip_col</strong> : list or array-like
    Column names to be omitted</p>
</li>
</ul>
<h5 id="methods">Methods</h5>
<ul>
<li>
<p><strong>report()</strong> : Prints current df's shape and diff with original df</p>
</li>
<li>
<p><strong>to_spark()</strong> : Convert new_df attribute in sparkDataFrame and return it</p>
</li>
</ul>
<blockquote>
<ul>
<li>Note:<br />
    If <strong>spark</strong> is not installed <code>to_report()</code> does nothing.</li>
</ul>
</blockquote>
<h3 id="utils">Utils</h3>
<p>The module provides common functions used in several code parts</p>
<h3 id="utilsdtypes">Utils.dtypes</h3>
<p>This module implements function to infer data types</p>
<h5 id="functions">Functions</h5>
<ul>
<li><strong>str_check_bool(<em>string</em>)</strong> : Check if given string is bool</li>
<li><strong>str_check_int(<em>string</em>)</strong> : Check if given string is int</li>
<li><strong>str_check_float(<em>string</em>)</strong> : Check if given string is float</li>
</ul>
<h4 id="dataset">dataset</h4>
<p>This module only for develops purposes</p>
<h5 id="function">Function</h5>
<ul>
<li><strong>load_credit_data()</strong>: Allow a download csv file to test StrictDataFrame</li>
</ul>
<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="developers/" class="btn btn-neutral float-right" title="Developers">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="developers/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2021-05-20 17:30:35.856304+00:00
-->
